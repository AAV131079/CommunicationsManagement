Given:
  Продумайте и напишите подробную документацию API проекта, отвечающего за внешние коммуникации с клиентами компании. 
  Задача проекта: хранение истории всех коммуникаций с клиентом, создание единой точки для всех каналов коммуникаций, определение доступности клиента для коммуникации. 
  Каналы коммуникаций: SMS, Messenger, Электронная почта, Push 
  Методы, которые должны присутствовать в API: 
  * получение списка доступных типов коммуникации; 
  * получение доступных каналов коммуникации; 
  * выгрузка всех клиентов, доступных для коммуникации; 
  * проверка доступности клиента для коммуникации; 
  * бронирование клиентов для коммуникации в будущем; 
  * отправка коммуникации; 
  * обновление статусов по отправленной коммуникации. 
  Во всех методах должна быть авторизация клиентов API, выполняющих запросы. Способ авторизации – на усмотрение исполнителя.
  
  ----

# Базовое описание API

## Название: Communication API 

#### Описание: Данный API позволяет осуществлять взаимодействие с клиентами компании через единую точку для всех каналов коммуникаций. API позволяет хранить историю всех коммуникаций с клиентом, а также определять доступность клиента для коммуникации. 

#### Технологии: Java Spring, Spring Boot, Maven, Swagger

#### Описание методов:

#### 1. Получение списка доступных типов коммуникации

**Описание:** Метод позволяет получить список доступных типов коммуникации, которые могут использоваться для взаимодействия с клиентами.
  
**Метод:** GET
    URL: ```/communication/types```

  **Ответ:**
  * 200 OK: успешный запрос
  * 500 Internal Server Error: ошибка сервера
  
  **Пример ответа:**
```json
{
    "types": [
        {
            "id": 1,
            "name": "Email"
        },
        {
            "id": 2,
            "name": "SMS"
        },
        {
            "id": 3,
            "name": "Телефонный звонок"
        }
    ]
}
```
#### 2. Получение доступных каналов коммуникации

**Описание:** Метод позволяет получить список доступных каналов коммуникации для каждого типа коммуникации.

**Метод:** GET
    URL: ```/communication/channels/{type_id}```

  **Параметры:**
  | Параметр | Тип данных | Описание |
  |------------|---------------|------------|
  |type_id | integer | идентификатор типа коммуникации|
  
  **Ответ:**
  * 200 OK: успешный запрос
  * 400 Bad Request: неверно указаны параметры запроса
  * 404 Not Found: тип коммуникации не найден
  * 500 Internal Server Error: ошибка сервера
    
   **Пример запроса:**
    ```/communication/channels/1```
    
  **Пример ответа:**
```json
{
    "type_id": 1,
    "channels": [
        {
            "id": 1,
            "name": "Официальный email"
        },
        {
            "id": 2,
            "name": "Личный email"
        }
    ]
}
```
#### 3. Выгрузка всех клиентов, доступных для коммуникации

  **Описание:** Метод позволяет получить список всех клиентов, которые доступны для коммуникации.

  **Метод:** GET
    URL: /communication/clients

  **Ответ:**
    * 200 OK: успешный запрос
    * 500 Internal Server Error: ошибка сервера
  **Пример ответа:**
```json
{
    "clients": [
        {
            "id": 1,
            "name": "Иванов Иван Иванович",
            "email": "ivanov@example.com",
            "phone": "+7 (999) 123-45-67",
            "status": "available"
        },
        {
            "id": 2,
            "name": "Петров Петр Петрович",
            "email": "petrov@example.com",
            "phone": "+7 (999) 987-65-43",
            "status": "busy"
        }
    ]
}
```
#### 4. Проверка доступности клиента для коммуникации

  **Описание:** Проверяет, доступен ли клиент для коммуникации в текущий момент времени.
  
  **Метод:** GET 
  URL: ```/communication/availability/{clientId}```
  
  **Параметры запроса:**
  |Параметр|Тип данных|Описание|
  |------------|---------------|------|
  |clientId|Integer|Идентификатор клиента в системе|
  
  **Ответ:**
  * 200 Ok: Флаг доступности клиента для коммуникации (true - доступен, false - нет)
  * 404 Not Found: клиент с указанным ID не найден
  * 500 Internal Server Error: ошибка сервера
  
  **Пример запроса:**
  ```GET /communication/availability/123```

**Пример ответа:**
```json
{
  "availability": true
}
```
  
#### 5. Бронирование клиентов для коммуникации в будущем

  **Описание:** Бронирует клиента для коммуникации в определенное время в будущем.
  
  **Метод:** POST 
  URL: ```/communication/booking```
  
  **Параметры запроса:**
  |Параметр|Тип данных|Описание|
  |------------|---------------|------|
  |clientId|Integer|Идентификатор клиента в системе|
  |communicationType|String|Тип коммуникации (например, "электронная почта", "телефонный звонок")|
  |channel|String|Канал коммуникации (например, "email", "телефон")|
  |scheduledTime|DateTime|Время, на которое требуется забронировать клиента|
  
  **Ответ:**
  * 200 Ok: Идентификатор бронирования
  * 400 Bad Request: переданы некорректные параметры
  * 404 Not found: клиент с указанным ID не найден или не может быть забронирован в указанное время
  * 500 Internal Server Error: ошибка сервера
  
  **Пример запроса:**
```json
{
  "clientId": 123,
  "communicationType": "электронная почта",
  "channel": "email",
  "scheduledTime": "2023-05-15T10:30:00Z"
}
```
  **Пример ответа:**
```json
{
  "bookingId": 456
}
```
  
#### 6. Отправка коммуникации

  **Описание:** Метод отправляет коммуникацию клиенту через выбранный канал связи и тип коммуникации. Заголовок Authorization должен содержать валидный токен доступа. Тело запроса должно содержать тип и канал связи, идентификатор клиента, текст сообщения и список вложений. Коммуникация может быть отправлена в разных форматах, таких как электронное письмо, SMS, уведомление через мобильное приложение и т.д.
  
  **Метод:** POST 
  URL: ```/communication/send```
  
  **Параметры запроса:**
|Параметр|Тип данных|Описание|
|------------|---------------|------|
|communication_type|String|поддерживаемые значения: "email", "sms", "push"|
|channel|String|будет использован для отправки коммуникации|
|client_id|String|уникальный идентификатор клиента, которому будет отправлена коммуникация;
|message|String|текст сообщения|
|attachments|String|список вложений в формате массива, каждый элемент которого содержит имя файла и данные в виде base64|

**Ответ:**
* 200 OK: коммуникация успешно отправлена
* 400 Bad Request: неправильный формат параметров запроса
* 401 Unauthorized: пользователь не авторизован для выполнения этой операции
* 404 Not Found: клиент не найден
* 500 Internal Server Error: внутренняя ошибка сервера

**Пример запроса:**
```json
{
  "communicationType": "email",
  "recipient": "example@example.com",
  "subject": "Пример темы",
  "body": "Пример текста коммуникации."
}
```
**Пример успешного ответа:** 
```json
{
  "status": "success",
  "message": "Коммуникация успешно отправлена"
}
```
#### 7. Обновление статусов по отправленной коммуникации

**Описание:** Данный метод позволяет обновить статус коммуникации с клиентом.

**Метод:** PUT 
  URL: ```/api/communication/{communicationId}/status```

 **Параметры запроса:**
 |Параметр|Тип|Описание|
 |------|-------|------|
|communicationId|Long|Идентификатор коммуникации, статус которой нужно обновить|
|status|String|Новый статус коммуникации|

**Ответ:**
* 200 Ok: Статус коммуникации успешно обновлен
* 400 Bad Request: Некорректный запрос (например, неверный формат параметров)
* 404 Not Found: Коммуникация с указанным идентификатором не найдена
* 500 Internal Server Error: Ошибка на сервере

**Пример запроса:**
```json
{
  "status": "delivered"
}
```
 **Пример ответа:**
 ```json
HTTP/1.1 200 OK
 ```
```json
HTTP/1.1 400 Bad Request
Content-Type: application/json

{
  "error": "Invalid request parameters"
}
```
```json
HTTP/1.1 404 Not Found
Content-Type: application/json

{
  "error": "Communication with id 123 not found"
}
```
```json
HTTP/1.1 500 Internal Server Error
Content-Type: application/json

{
  "error": "Server error occurred while updating communication status"
}
```
